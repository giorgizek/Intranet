function htmlEncode(n){return $("<div/>").text(n).html()}function htmlDecode(n){return $("<div/>").html(n).text()}function randomInt(n,t){return Math.floor(Math.random()*(t-n+1))+n}function showLoading(n,t){hideLoading();isLoading=!0;$("body").append('<div id="loading" class="progress"><div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%"><span class="sr-only">Loading...<\/span><\/div><\/div>');var i=$("#loading .progress-bar");n&&jQuery.type(n)==="number"?$("#loading .progress-bar").animate({width:"100%"},n):(i.animate({width:"50%"},randomInt(1500,5e3)),isLoading&&i.animate({width:"75%"},randomInt(2500,5e3)),isLoading&&i.animate({width:"85%"},randomInt(2500,5e3)),isLoading&&i.animate({width:"95%"},randomInt(2500,5e3)),isLoading&&i.animate({width:"100%"},randomInt(15e3,3e4)));t=t||!1;t&&setTimeout(hideLoading,n)}function hideLoading(){isLoading=!1;$("#loading").remove()}function showAjaxError(n,t,i){if(console.log("Error: "+i),console.log("Status: "+t),console.dir(n),n.status===400&&n.responseText!==""){var u,r="";try{u=$.parseJSON(n.responseText);$.each(u,function(n,t){r+=t[0]+"\n"})}catch(f){r=n.responseText}$.isFunction($.notify)?$.notify(r,"danger"):alert(r)}else $.isFunction($.notify)?$.notify(i,"danger"):alert("Error: "+i)}function showAjaxModal(n){n?$("#ajax-modal").modal(n):$("#ajax-modal").modal("show")}function hideAjaxModal(){$("#ajax-modal").modal("hide")}var isLoading=!1;$(document).ajaxStart(function(){showLoading()});$(document).ajaxStop(function(){hideLoading()});$(document).on("shown.bs.modal",function(){$(this).find("[autofocus]").focus()});$(document).on("hidden.bs.modal","#ajax-modal",function(){$(this).remove()});(function(n){n.fn.equalHeight=function(){var t=0;return this.each(function(){var i=n(this).height();i>t&&(t=i)}),console.log(t),this.each(function(){console.log(n(this));n(this).height(t)})}})(jQuery),function(n){var t;n.getRoute=function(){if(t)return t;var n=window.location.pathname.split("/");return t={controller:n[1],action:n.length>=2?n[2]:"Index",id:n.length>=3?n[3]:null}};n.urlAction=function(t,i,r){return t||(t=""),i&&i.length!==0||(i=n.getRoute().controller),r?r.charAt(0)!=="/"&&(r="/"+r):r="","/"+i+"/"+t+(r.length>0?r:"")}}(jQuery),function(n){var t=0;n.notify=function(i,r){i||(i="");n("#notify-"+t).alert("close");t++;var u;switch(r){case"success":u="check";break;case"warning":u="exclamation-triangle";break;case"danger":u="exclamation-circle";break;case"error":r="danger";u="exclamation-circle";break;case"info":u="info-circle";break;default:r="info";u="info-circle"}n("body").append('<div id="notify-'+t+'" class="alert alert-'+r+' alert-dismissible fade in col-xs-11 col-sm-3" style="position:fixed;right:10px;top:10px;z-index:999999;" role="alert"><button type="button" class ="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><span class ="fa fa-'+u+'" aria-hidden="true"><\/span> '+i+"<\/div>");n("#notify-"+t).delay(5e3).fadeOut(1e3,function(){n(this).alert("close")})}}(jQuery),function(n){var t;n("#sidebar-nav").find("a.active").each(function(t,i){var r=n(i).parent();r.addClass("in");r.prev().find("i").removeClass("fa-caret-right").addClass("fa-caret-down")});n("#sidebar-nav").find('a[data-toggle="collapse"]').click(function(){n(this).find("i").toggleClass("fa-caret-right").toggleClass("fa-caret-down")});n("#sidebar-search-textbox").keyup(function(){var o=event.target.value.toUpperCase(),i,u,h,r;if(o!==""){if(!t)for(t=[],u=n("#sidebar-nav").find("a"),i=0;i<u.length;i++){var f=n(u[i]),s=f.text().trim(),e=f.attr("href");s!==""&&e!==""&&e.charAt(0)!=="#"&&(h=n("<div>").append(f.find("i").clone()).html(),t.push({text:s,url:e,icon:h}))}for(r='<ul class="nav nav-sidebar">',i=0;i<t.length;i++)t[i].text.toUpperCase().indexOf(o)>-1&&(r+='<li role="presentation"><a href="'+t[i].url+'">'+t[i].icon+" "+t[i].text+"<\/a><\/li>");r+="<\/ul>";n("#sidebar-nav").hide();n("#sidebar-search-nav").html(r)}else n("#sidebar-search-nav").html(""),n("#sidebar-nav").show()})}(jQuery),function(n){function r(t){var i=t.data("modal-ajax-url");if(!i){alert("data-modal-ajax-url is undefined");return}n.get(i,function(i){n("body").append(i);n("#bb-modal").modal("show");var r=n("#bb-form");r.data("id",t.attr("id"))}).fail(showAjaxError)}function i(t){var u=t.data("readonly"),i,r;u||(t.val(""),t.attr("title",""),i=t.attr("id"),r="#"+i.slice(0,-4)+"Id",n(r).val("").trigger("change"))}function t(t,i,r,u){n.ajax({url:t,type:i,data:r}).done(function(n){u.html(n)}).fail(showAjaxError)}n(document).on("click","button.bb-modal",function(t){t&&t.preventDefault();var i=n(this).closest("div.bb");i.data("readonly")!=="readonly"&&r(i)});n(document).on("shown.bs.modal","#bb-modal",function(){var i=n(this).find("#bb-form");t(i.attr("action"),"get",i.attr("data-parameters"),i)});n(document).on("hidden.bs.modal","#bb-modal",function(){n(this).remove()});n(document).on("keyup",".bb input",function(t){if(t.which===46){t.preventDefault();var r=n(this).closest("div.bb");if(r.data("readonly")==="readonly")return;i(n(this))}});n(document).on("click","a.bb-delete",function(t){var r,u;(t&&t.preventDefault(),r=n(this).closest("div.bb"),r.data("readonly")!=="readonly")&&(u="#"+r.attr("id")+"_Name",i(n(u)))});n(document).on("click","#bb-filter-button",function(i){i&&i.preventDefault();var r=n("#bb-form");t(r.attr("action"),r.attr("method"),r.serialize(),r.find("#bb-grid-container"))});n(document).on("keyup","#bb-form input",function(i){if(i.which===13){i.preventDefault();var r=n("#bb-form");t(r.attr("action"),r.attr("method"),r.serialize(),r.find("#bb-grid-container"))}});n(document).on("click","#bb-paged-list a",function(i){i&&i.preventDefault();var u=n(this).attr("href").substr(1),r=n("#bb-form");t(r.attr("action")+"?page="+u,r.attr("method"),r.serialize(),r.find("#bb-grid-container"))});n(document).on("dblclick","#bb-grid tr",function(){var t=n(this).data("id"),r=n("#bb-form"),u=r.data("id"),i=n("#"+u+"_Id");i.val()!==t&&i.val(t).trigger("change");n("#bb-modal").modal("hide")});n(document).on("change",".bb input:hidden",function(){var r=n(this),t=r.val(),u=r.closest("div.bb"),e=u.attr("id"),i=n("#"+e+"_Name"),f;if(t===""){i.attr("title","ID = "+t);return}i.attr("title","ID = "+t);f=u.data("text-ajax-url");n.get(f+"/"+t).done(function(n){i.val(n).trigger("change")}).fail(function(n,r,u){i.val("ID = "+t);showAjaxError(n,r,u)})})}(jQuery),function(n){function t(){var i=n(this),u=i.data("target"),r,t;if(!u){alert("data-target attribute is not defined");return}if(r=i.data("url")||i.attr("action"),!r){alert("data-action attribute is not defined");return}t=n(u);t.val(null);t.prop("disabled",!0);n.getJSON({url:r+"/"+i.val()}).done(function(i){var u="<option>"+n.fn.cascadeDropdown.defaults.optionHtml+"<\/option>",r=[],f={};n.each(i,function(n,t){r.push(t);f[t]=n});r.sort();n.each(r,function(n,t){u+='<option value="'+f[t]+'">'+t+"<\/option>"});t.html(u)}).fail(showAjaxError).always(function(){t.prop("disabled",!1)})}n.fn.cascadeDropdown=function(){return n(this).change(t),this};n.fn.cascadeDropdown.defaults={optionHtml:""}}(jQuery),function(n){n.ajaxLink=function(t,i,r){r=(r||"").toUpperCase();n(document).on("click",t,function(t){t.preventDefault();n.get(this.href,function(t){n(i).each(function(i,u){var f;switch(r){case"BEFORE":f=u.firstChild;n("<div />").html(t).contents().each(function(){u.insertBefore(this,f)});break;case"AFTER":n("<div />").html(t).contents().each(function(){u.appendChild(this)});break;case"REPLACE-WITH":n(u).replaceWith(t);break;default:n(u).html(t)}})}).fail(showAjaxError)})};n.fn.downloadForm=function(t){var r=n(this),i;t=t||r.attr("action");i=n("<form><\/form>").attr("action",t).attr("method","post").attr("target","_blank");n.each(r.serializeArray(),function(t,r){console.log(r.name);console.log(r.value);i.append(n("<input><\/input>").attr("type","hidden").attr("name",r.name).attr("value",r.value))});i.appendTo("body").submit().remove()}}(jQuery);$.fn.select2.defaults.set("theme","bootstrap");$.fn.select2.defaults.set("width","100%");$.fn.cascadeDropdown.defaults.optionHtml="&nbsp;";$(function(){var n=$.getRoute();switch(n.controller){case"AdminEmployees":$("#DepartmentId").select2().cascadeDropdown();$("#JobTitleId").select2();break;case"Employees":$("#DepartmentId").select2().cascadeDropdown().autoFilter();$("#JobTitleId").select2().autoFilter();$("#BranchId").select2().autoFilter();break;case"AdminProducts":$("#CategoryId").select2().cascadeDropdown();$("#SubCategoryId").select2()}});